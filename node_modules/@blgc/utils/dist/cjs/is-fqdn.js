"use strict";var d=require("./is-ip.js");function h(r,l={}){if(typeof r!="string")return!1;const{requireTld:u=!0,allowUnderscores:a=!1,allowTrailingDot:n=!1,allowNumericTld:f=!1,allowWildcard:o=!1,ignoreMaxLength:c=!1}=l;let e=r;if(n&&e.endsWith(".")&&(e=e.slice(0,-1)),o&&e.startsWith("*.")&&(e=e.slice(2)),d.isIP(e))return!1;const s=e.split(".");if(s.length===0||s.some(t=>t===""))return!1;const i=s[s.length-1];if(i==null||u&&(s.length<2||/\s/.test(i)||!f&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(i))||!f&&/^\d+$/.test(i))return!1;const F=a?/^[a-z_\u00a1-\uffff0-9-]+$/i:/^[a-z\u00a1-\uffff0-9-]+$/i;return s.every(t=>!(!c&&t.length>63||!F.test(t)||/[\uff01-\uff5e]/.test(t)||t.startsWith("-")||t.endsWith("-")))}exports.isFQDN=h;
